<Window x:Class="WallpaperManager.Views.PreviewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
        Title="Prévisualisation" 
        WindowStyle="None"
        WindowState="Maximized"
        Background="Black"
        KeyDown="Window_KeyDown"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        Closing="Window_Closing"
        Cursor="None">
    
    <Grid>
        <!-- Image pour les images statiques -->
        <Image x:Name="PreviewImage" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
        
        <!-- VideoView pour les vidéos/GIFs animés -->
        <vlc:VideoView x:Name="VideoView" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                       Visibility="Collapsed" Background="Black"/>
        
        <!-- Overlay info (s'affiche au survol bas) -->
        <Border x:Name="InfoOverlay" Background="#DD000000" VerticalAlignment="Bottom" Padding="24,16" Opacity="0"
                MouseEnter="InfoOverlay_MouseEnter" MouseLeave="InfoOverlay_MouseLeave">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel>
                    <TextBlock x:Name="TitleText" FontSize="18" FontWeight="SemiBold" Foreground="White"/>
                    <TextBlock x:Name="InfoText" FontSize="13" Foreground="#AAAAAA" Margin="0,4,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button x:Name="BtnApply" Content="Appliquer" Padding="20,10" Margin="0,0,12,0"
                            Click="BtnApply_Click" Cursor="Hand"
                            Background="#6366F1" Foreground="White" BorderThickness="0" FontSize="14"/>
                    <Button Content="Fermer (Échap)" Padding="20,10" Click="BtnClose_Click" Cursor="Hand"
                            Background="#374151" Foreground="White" BorderThickness="0" FontSize="14"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Navigation gauche/droite -->
        <Button x:Name="BtnPrev" Content="◀" Width="60" Height="60" FontSize="24"
                HorizontalAlignment="Left" VerticalAlignment="Center" Margin="20,0"
                Click="BtnPrev_Click" Cursor="Hand" Visibility="Collapsed"
                Background="#60000000" Foreground="White" BorderThickness="0" Opacity="0.7"/>
        <Button x:Name="BtnNext" Content="▶" Width="60" Height="60" FontSize="24"
                HorizontalAlignment="Right" VerticalAlignment="Center" Margin="20,0"
                Click="BtnNext_Click" Cursor="Hand" Visibility="Collapsed"
                Background="#60000000" Foreground="White" BorderThickness="0" Opacity="0.7"/>
        
        <!-- Indicateur position -->
        <TextBlock x:Name="PositionText" HorizontalAlignment="Center" VerticalAlignment="Top" 
                   Margin="0,20,0,0" FontSize="14" Foreground="#888888"/>
    </Grid>
</Window>
