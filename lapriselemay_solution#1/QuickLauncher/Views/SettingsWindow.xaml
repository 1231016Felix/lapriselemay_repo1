<Window x:Class="QuickLauncher.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="QuickLauncher - ParamÃ¨tres"
        Width="850" Height="700"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E"
        ResizeMode="CanResizeWithGrip">
    
    <Window.Resources>
        <Style x:Key="SettingsCheckBox" TargetType="CheckBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="0,6"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
        
        <Style x:Key="SectionLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#0078D4"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,20,0,8"/>
        </Style>
        
        <Style x:Key="SubSectionLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#888"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="0,12,0,6"/>
        </Style>
        
        <Style x:Key="ActionButton" TargetType="Button">
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="Background" Value="#3E3E3E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#4E4E4E"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ActionButton}">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1084D8"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style TargetType="TabItem">
            <Setter Property="Foreground" Value="#AAA"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Margin" Value="2,0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="Border" 
                                Background="{TemplateBinding Background}" 
                                BorderThickness="0" 
                                Padding="{TemplateBinding Padding}"
                                CornerRadius="6,6,0,0"
                                Margin="{TemplateBinding Margin}">
                            <ContentPresenter x:Name="ContentSite"
                                              ContentSource="Header"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#3E3E3E"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#333"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="SettingsCard" TargetType="Border">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="15"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
        </Style>
    </Window.Resources>
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Titre -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
            <TextBlock Text="âš™ï¸" FontSize="28" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="ParamÃ¨tres" FontSize="26" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="Personnalisez QuickLauncher selon vos prÃ©fÃ©rences" Foreground="#888" FontSize="11"/>
            </StackPanel>
        </StackPanel>
        
        <!-- Onglets -->
        <TabControl Grid.Row="1" Background="#252525" BorderThickness="0">
            
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- ONGLET 1: GÃ‰NÃ‰RAL (DÃ©marrage + Comportement + Apparence + Raccourcis) -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <TabItem Header="ðŸ  GÃ©nÃ©ral">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Colonne gauche -->
                        <StackPanel Grid.Column="0">
                            <!-- DÃ©marrage -->
                            <TextBlock Text="DÃ©marrage" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <CheckBox x:Name="StartWithWindowsCheck" Content="DÃ©marrer avec Windows" Style="{StaticResource SettingsCheckBox}"/>
                            <CheckBox x:Name="MinimizeOnStartupCheck" Content="DÃ©marrer minimisÃ©" Style="{StaticResource SettingsCheckBox}"/>
                            <CheckBox x:Name="ShowInTaskbarCheck" Content="Afficher dans la barre des tÃ¢ches" Style="{StaticResource SettingsCheckBox}"/>
                            
                            <!-- Comportement -->
                            <TextBlock Text="Comportement" Style="{StaticResource SectionLabel}"/>
                            <CheckBox x:Name="CloseAfterLaunchCheck" Content="Fermer aprÃ¨s lancement" Style="{StaticResource SettingsCheckBox}"/>
                            <CheckBox x:Name="ShowIndexingStatusCheck" Content="Afficher le statut d'indexation" Style="{StaticResource SettingsCheckBox}"/>
                            <CheckBox x:Name="ShowSettingsButtonCheck" Content="Afficher le bouton âš™ï¸" Style="{StaticResource SettingsCheckBox}"/>
                            
                            <TextBlock Text="SubSectionLabel" Style="{StaticResource SubSectionLabel}"/>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Text="Max rÃ©sultats: " Foreground="White" VerticalAlignment="Center"/>
                                <TextBlock x:Name="MaxResultsValue" Text="8" Foreground="#0078D4" FontWeight="Bold" VerticalAlignment="Center" Width="25"/>
                            </StackPanel>
                            <Slider x:Name="MaxResultsSlider" Minimum="3" Maximum="15" Value="8" Width="250" HorizontalAlignment="Left" ValueChanged="MaxResultsSlider_ValueChanged"/>
                            
                            <ComboBox x:Name="WindowPositionCombo" Width="220" HorizontalAlignment="Left" Margin="0,10,0,0">
                                <ComboBoxItem Content="ðŸ“ CentrÃ© sur l'Ã©cran" Tag="Center"/>
                                <ComboBoxItem Content="ðŸ“ En haut de l'Ã©cran" Tag="Top"/>
                                <ComboBoxItem Content="ðŸ“ MÃ©moriser position" Tag="Remember"/>
                            </ComboBox>
                            
                            <!-- Historique -->
                            <TextBlock Text="Historique" Style="{StaticResource SectionLabel}"/>
                            <CheckBox x:Name="EnableSearchHistoryCheck" Content="Activer l'historique" Style="{StaticResource SettingsCheckBox}"/>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Text="Max entrÃ©es: " Foreground="White" VerticalAlignment="Center"/>
                                <TextBlock x:Name="MaxHistoryValue" Text="10" Foreground="#0078D4" FontWeight="Bold" VerticalAlignment="Center" Width="25"/>
                            </StackPanel>
                            <Slider x:Name="MaxHistorySlider" Minimum="5" Maximum="30" Value="10" Width="250" HorizontalAlignment="Left" ValueChanged="MaxHistorySlider_ValueChanged"/>
                            <Button Content="ðŸ—‘ï¸ Effacer l'historique" Click="ClearHistory_Click" Style="{StaticResource ActionButton}" HorizontalAlignment="Left" Margin="0,8,0,0"/>
                        </StackPanel>
                        
                        <!-- Colonne droite -->
                        <StackPanel Grid.Column="2">
                            <!-- Apparence -->
                            <TextBlock Text="Apparence" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <ComboBox x:Name="ThemeCombo" Width="180" HorizontalAlignment="Left" SelectionChanged="ThemeCombo_SelectionChanged">
                                <ComboBoxItem Content="ðŸŒ™ ThÃ¨me sombre" Tag="Dark"/>
                                <ComboBoxItem Content="â˜€ï¸ ThÃ¨me clair" Tag="Light"/>
                                <ComboBoxItem Content="ðŸ’» SystÃ¨me" Tag="System"/>
                            </ComboBox>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                                <TextBlock Text="OpacitÃ©: " Foreground="White" VerticalAlignment="Center"/>
                                <TextBlock x:Name="OpacityValue" Text="100%" Foreground="#0078D4" FontWeight="Bold" VerticalAlignment="Center"/>
                            </StackPanel>
                            <Slider x:Name="OpacitySlider" Minimum="0.5" Maximum="1.0" Value="1.0" Width="250" HorizontalAlignment="Left" ValueChanged="OpacitySlider_ValueChanged"/>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <Border x:Name="ColorPreview" Width="24" Height="24" CornerRadius="4" Background="#0078D4" Margin="0,0,8,0"/>
                                <ComboBox x:Name="AccentColorCombo" Width="150" SelectionChanged="AccentColorCombo_SelectionChanged">
                                    <ComboBoxItem Content="Bleu" Tag="#0078D4"/>
                                    <ComboBoxItem Content="Vert" Tag="#107C10"/>
                                    <ComboBoxItem Content="Rouge" Tag="#E81123"/>
                                    <ComboBoxItem Content="Orange" Tag="#FF8C00"/>
                                    <ComboBoxItem Content="Violet" Tag="#881798"/>
                                    <ComboBoxItem Content="Rose" Tag="#E3008C"/>
                                </ComboBox>
                            </StackPanel>
                            <CheckBox x:Name="EnableAnimationsCheck" Content="Activer les animations" Style="{StaticResource SettingsCheckBox}"/>
                            
                            <!-- Raccourci clavier -->
                            <TextBlock Text="Raccourci global" Style="{StaticResource SectionLabel}"/>
                            <Border Style="{StaticResource SettingsCard}">
                                <StackPanel>
                                    <TextBlock x:Name="CurrentHotkeyDisplay" Text="Alt + Space" FontSize="18" FontWeight="Bold" Foreground="#0078D4" Margin="0,0,0,10"/>
                                    <WrapPanel>
                                        <CheckBox x:Name="HotkeyAltCheck" Content="Alt" Style="{StaticResource SettingsCheckBox}" Margin="0,0,15,0" Checked="Hotkey_Changed" Unchecked="Hotkey_Changed"/>
                                        <CheckBox x:Name="HotkeyCtrlCheck" Content="Ctrl" Style="{StaticResource SettingsCheckBox}" Margin="0,0,15,0" Checked="Hotkey_Changed" Unchecked="Hotkey_Changed"/>
                                        <CheckBox x:Name="HotkeyShiftCheck" Content="Shift" Style="{StaticResource SettingsCheckBox}" Margin="0,0,15,0" Checked="Hotkey_Changed" Unchecked="Hotkey_Changed"/>
                                        <CheckBox x:Name="HotkeyWinCheck" Content="Win" Style="{StaticResource SettingsCheckBox}" Checked="Hotkey_Changed" Unchecked="Hotkey_Changed"/>
                                    </WrapPanel>
                                    <ComboBox x:Name="HotkeyKeyCombo" Width="100" HorizontalAlignment="Left" Margin="0,8,0,0" SelectionChanged="HotkeyKeyCombo_SelectionChanged">
                                        <ComboBoxItem Content="Space" Tag="Space"/>
                                        <ComboBoxItem Content="Enter" Tag="Enter"/>
                                        <ComboBoxItem Content="Tab" Tag="Tab"/>
                                        <ComboBoxItem Content="Q" Tag="Q"/>
                                        <ComboBoxItem Content="L" Tag="L"/>
                                        <ComboBoxItem Content="F1" Tag="F1"/>
                                        <ComboBoxItem Content="F12" Tag="F12"/>
                                    </ComboBox>
                                </StackPanel>
                            </Border>
                            <TextBlock Text="âš ï¸ RedÃ©marrage requis aprÃ¨s modification" Foreground="#FFB900" FontSize="10" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </TabItem>
            
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- ONGLET 2: INDEXATION (Dossiers + Extensions + Navigateurs + Recherche systÃ¨me) -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <TabItem Header="ðŸ“ Indexation">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Colonne gauche -->
                        <StackPanel Grid.Column="0">
                            <!-- Dossiers indexÃ©s -->
                            <TextBlock Text="Dossiers indexÃ©s" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <ListBox x:Name="IndexedFoldersList" Height="100" Background="#2D2D2D" Foreground="White" BorderThickness="0"/>
                            <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                <Button Content="âž•" Click="AddFolder_Click" Style="{StaticResource PrimaryButton}" Padding="10,6" Margin="0,0,5,0" ToolTip="Ajouter"/>
                                <Button Content="âž–" Click="RemoveFolder_Click" Style="{StaticResource ActionButton}" Padding="10,6" ToolTip="Supprimer"/>
                            </StackPanel>
                            
                            <!-- Extensions -->
                            <TextBlock Text="Extensions" Style="{StaticResource SectionLabel}"/>
                            <TextBox x:Name="FileExtensionsBox" Background="#2D2D2D" Foreground="White" BorderThickness="0" Padding="10" FontFamily="Consolas" TextWrapping="Wrap" Height="50"/>
                            
                            <!-- Options -->
                            <TextBlock Text="Options" Style="{StaticResource SectionLabel}"/>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Text="Profondeur: " Foreground="White" VerticalAlignment="Center"/>
                                <TextBlock x:Name="SearchDepthValue" Text="5" Foreground="#0078D4" FontWeight="Bold" VerticalAlignment="Center" Width="25"/>
                                <TextBlock Text="niveaux" Foreground="#888" VerticalAlignment="Center"/>
                            </StackPanel>
                            <Slider x:Name="SearchDepthSlider" Minimum="1" Maximum="10" Value="5" Width="250" HorizontalAlignment="Left" ValueChanged="SearchDepthSlider_ValueChanged"/>
                            <CheckBox x:Name="IndexHiddenFoldersCheck" Content="Indexer dossiers cachÃ©s" Style="{StaticResource SettingsCheckBox}"/>
                            
                            <!-- RÃ©indexation -->
                            <Border Style="{StaticResource SettingsCard}" Margin="0,15,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="ðŸ”„" FontSize="16" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <StackPanel VerticalAlignment="Center">
                                        <TextBlock Text="RÃ©indexer" Foreground="White" FontWeight="SemiBold"/>
                                        <TextBlock Text="Reconstruire l'index complet" Foreground="#888" FontSize="10"/>
                                    </StackPanel>
                                    <Button Content="Go" Click="Reindex_Click" Style="{StaticResource ActionButton}" VerticalAlignment="Center" Margin="15,0,0,0" Padding="12,6"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- RÃ©indexation auto -->
                            <TextBlock Text="RÃ©indexation automatique" Style="{StaticResource SectionLabel}"/>
                            <CheckBox x:Name="AutoReindexEnabledCheck" Content="Activer" Style="{StaticResource SettingsCheckBox}" Checked="AutoReindexEnabled_Changed" Unchecked="AutoReindexEnabled_Changed"/>
                            <StackPanel x:Name="AutoReindexOptionsPanel" Margin="15,0,0,0">
                                <RadioButton x:Name="ReindexIntervalRadio" Content="Intervalle" Foreground="White" Margin="0,3" GroupName="ReindexMode" Checked="ReindexMode_Changed"/>
                                <ComboBox x:Name="ReindexIntervalCombo" Width="120" Margin="20,3,0,8">
                                    <ComboBoxItem Content="15 min" Tag="15"/>
                                    <ComboBoxItem Content="30 min" Tag="30"/>
                                    <ComboBoxItem Content="1 heure" Tag="60"/>
                                    <ComboBoxItem Content="2 heures" Tag="120"/>
                                </ComboBox>
                                <RadioButton x:Name="ReindexTimeRadio" Content="Heure fixe" Foreground="White" Margin="0,3" GroupName="ReindexMode" Checked="ReindexMode_Changed"/>
                                <StackPanel Orientation="Horizontal" Margin="20,3,0,0">
                                    <ComboBox x:Name="ReindexHourCombo" Width="55">
                                        <ComboBoxItem Content="00h" Tag="00"/>
                                        <ComboBoxItem Content="03h" Tag="03"/>
                                        <ComboBoxItem Content="06h" Tag="06"/>
                                        <ComboBoxItem Content="12h" Tag="12"/>
                                        <ComboBoxItem Content="18h" Tag="18"/>
                                    </ComboBox>
                                    <TextBlock Text=":" Foreground="#888" VerticalAlignment="Center" Margin="3,0"/>
                                    <ComboBox x:Name="ReindexMinuteCombo" Width="55">
                                        <ComboBoxItem Content="00" Tag="00"/>
                                        <ComboBoxItem Content="30" Tag="30"/>
                                    </ComboBox>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                        
                        <!-- Colonne droite -->
                        <StackPanel Grid.Column="2">
                            <!-- Navigateurs -->
                            <TextBlock Text="Favoris navigateurs" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <ItemsControl x:Name="BrowsersList">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#2A2A2A" CornerRadius="4" Padding="10" Margin="0,0,0,5">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="30"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="{Binding Icon}" FontSize="18" VerticalAlignment="Center"/>
                                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="5,0">
                                                    <TextBlock Text="{Binding Name}" Foreground="White" FontSize="12"/>
                                                    <TextBlock Foreground="#666" FontSize="10">
                                                        <TextBlock.Style>
                                                            <Style TargetType="TextBlock">
                                                                <Setter Property="Text" Value="{Binding BookmarkCount, StringFormat='{}{0} favoris'}"/>
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsInstalled}" Value="False">
                                                                        <Setter Property="Text" Value="Non installÃ©"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </TextBlock.Style>
                                                    </TextBlock>
                                                </StackPanel>
                                                <Button Grid.Column="2" Content="ðŸ“¥" Tag="{Binding Name}" Click="ImportBrowserBookmarks_Click" Padding="8,4" Background="#0078D4" Foreground="White" BorderThickness="0" Cursor="Hand" ToolTip="Importer">
                                                    <Button.Style>
                                                        <Style TargetType="Button">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding IsInstalled}" Value="False">
                                                                    <Setter Property="IsEnabled" Value="False"/>
                                                                    <Setter Property="Opacity" Value="0.4"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <Button Content="ðŸ“¥ Importer tous" Click="ImportAllBrowserBookmarks_Click" Style="{StaticResource PrimaryButton}" HorizontalAlignment="Left" Margin="0,5,0,0"/>
                            
                            <!-- Recherche systÃ¨me (:find) -->
                            <TextBlock Text="Recherche systÃ¨me (:find)" Style="{StaticResource SectionLabel}"/>
                            <Border x:Name="SearchEngineIndicator" CornerRadius="6" Padding="12" Margin="0,5,0,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock x:Name="SearchEngineIcon" Text="âš¡" FontSize="20" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock x:Name="SearchEngineName" Text="Everything" Foreground="White" FontWeight="SemiBold" FontSize="12"/>
                                        <TextBlock x:Name="SearchEngineDescription" Text="Recherche ultra-rapide" Foreground="#888" FontSize="10"/>
                                    </StackPanel>
                                    <Border Grid.Column="2" x:Name="SearchEngineStatusBadge" CornerRadius="3" Padding="8,3" VerticalAlignment="Center">
                                        <TextBlock x:Name="SearchEngineStatusText" Text="Optimal" FontSize="10" FontWeight="SemiBold"/>
                                    </Border>
                                </Grid>
                            </Border>
                            <Border x:Name="SearchEngineRecommendation" Background="#1E2A3E" CornerRadius="4" Padding="8" Margin="0,5,0,0" Visibility="Collapsed">
                                <TextBlock x:Name="SearchEngineRecommendationText" Foreground="#64B5F6" TextWrapping="Wrap" FontSize="10"/>
                            </Border>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <TextBlock Text="Profondeur: " Foreground="White" VerticalAlignment="Center"/>
                                <TextBlock x:Name="SystemSearchDepthValue" Text="5" Foreground="#0078D4" FontWeight="Bold" VerticalAlignment="Center" Width="25"/>
                            </StackPanel>
                            <Slider x:Name="SystemSearchDepthSlider" Minimum="2" Maximum="10" Value="5" Width="250" HorizontalAlignment="Left" ValueChanged="SystemSearchDepthSlider_ValueChanged"/>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <Button Content="ðŸ—‘ï¸ Vider cache" Click="ClearSearchCache_Click" Style="{StaticResource ActionButton}" Padding="10,6"/>
                                <TextBlock x:Name="SearchCacheStats" Text="" Foreground="#666" FontSize="10" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </TabItem>
            
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- ONGLET 3: COMMANDES (Recherche Web + ContrÃ´le SystÃ¨me) -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <TabItem Header="ðŸ” Commandes">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Colonne gauche: Recherche Web -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Recherche Web" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <TextBlock Text="Tapez le prÃ©fixe + espace + recherche (ex: g pizza)" Foreground="#888" FontSize="11" Margin="0,0,0,8"/>
                            
                            <ListBox x:Name="SearchEnginesList" Height="180" Background="#2D2D2D" Foreground="White" BorderThickness="0">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Margin="5,3">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="45"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Background="#0078D4" CornerRadius="3" Padding="6,2" HorizontalAlignment="Left">
                                                <TextBlock Text="{Binding Prefix}" FontWeight="Bold" Foreground="White" FontSize="11"/>
                                            </Border>
                                            <TextBlock Grid.Column="1" Text="{Binding Name}" VerticalAlignment="Center" Margin="8,0" FontSize="12"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                            
                            <!-- Commandes intÃ©grÃ©es -->
                            <TextBlock Text="Commandes intÃ©grÃ©es" Style="{StaticResource SectionLabel}"/>
                            <Border Style="{StaticResource SettingsCard}">
                                <StackPanel>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="80"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text=":settings" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="ParamÃ¨tres" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="80"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text=":reload" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="RÃ©indexer" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="80"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text=":find" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Recherche systÃ¨me" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="80"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text=":history" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Historique" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="80"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text=":help" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Aide" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="80"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text=":quit" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Quitter" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                        
                        <!-- Colonne droite: ContrÃ´le SystÃ¨me -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="ContrÃ´le SystÃ¨me" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <TextBlock Text="Tapez ':' + prÃ©fixe dans la barre de recherche" Foreground="#888" FontSize="11" Margin="0,0,0,8"/>
                            
                            <ItemsControl x:Name="SystemCommandsList" MaxHeight="350">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#2A2A2A" CornerRadius="3" Padding="8,5" Margin="0,0,5,5" Cursor="Hand" MouseLeftButtonUp="SystemCommandItem_Click">
                                            <Border.Style>
                                                <Style TargetType="Border">
                                                    <Style.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#353535"/>
                                                        </Trigger>
                                                        <DataTrigger Binding="{Binding IsEnabled}" Value="False">
                                                            <Setter Property="Opacity" Value="0.4"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{Binding Icon}" FontSize="12" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                                <TextBlock Text="{Binding Prefix, StringFormat=:{0}}" Foreground="#0078D4" FontFamily="Consolas" FontSize="11" VerticalAlignment="Center"/>
                                                <Border Width="28" Height="14" CornerRadius="7" VerticalAlignment="Center" Margin="8,0,0,0" MouseLeftButtonUp="ToggleSwitch_Click" Tag="{Binding}">
                                                    <Border.Style>
                                                        <Style TargetType="Border">
                                                            <Setter Property="Background" Value="#404040"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding IsEnabled}" Value="True">
                                                                    <Setter Property="Background" Value="#0078D4"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Border.Style>
                                                    <Ellipse Width="10" Height="10" Fill="White" VerticalAlignment="Center">
                                                        <Ellipse.Style>
                                                            <Style TargetType="Ellipse">
                                                                <Setter Property="HorizontalAlignment" Value="Left"/>
                                                                <Setter Property="Margin" Value="2,0,0,0"/>
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsEnabled}" Value="True">
                                                                        <Setter Property="HorizontalAlignment" Value="Right"/>
                                                                        <Setter Property="Margin" Value="0,0,2,0"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Ellipse.Style>
                                                    </Ellipse>
                                                </Border>
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            
                            <!-- Panneau d'Ã©dition -->
                            <Border x:Name="CommandEditPanel" Background="#252525" CornerRadius="4" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text=":" Foreground="#0078D4" FontFamily="Consolas" VerticalAlignment="Center"/>
                                    <TextBox x:Name="CommandPrefixBox" Width="70" Background="#1E1E1E" Foreground="White" BorderBrush="#3E3E3E" Padding="5,3" FontFamily="Consolas" VerticalAlignment="Center"/>
                                    <TextBox x:Name="CommandIconBox" Width="35" Background="#1E1E1E" Foreground="White" BorderBrush="#3E3E3E" Padding="5,3" TextAlignment="Center" VerticalAlignment="Center" Margin="8,0"/>
                                    <Button Content="âœ“" Click="ApplyCommandEdit_Click" Background="#107C10" Foreground="White" Width="24" Height="24" BorderThickness="0" Cursor="Hand"/>
                                    <Button Content="âœ•" Click="CancelCommandEdit_Click" Background="#3E3E3E" Foreground="White" Width="24" Height="24" BorderThickness="0" Cursor="Hand" Margin="5,0,0,0"/>
                                </StackPanel>
                            </Border>
                            
                            <Button Content="ðŸ”„ RÃ©initialiser" Click="ResetSystemCommands_Click" Style="{StaticResource ActionButton}" HorizontalAlignment="Left" Margin="0,10,0,0"/>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </TabItem>
            
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- ONGLET 4: Ã€ PROPOS (Guide + Stats + Infos) -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <TabItem Header="â„¹ï¸ Ã€ propos">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Colonne gauche: Guide -->
                        <StackPanel Grid.Column="0">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                                <TextBlock Text="ðŸš€" FontSize="36" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <StackPanel VerticalAlignment="Center">
                                    <TextBlock Text="QuickLauncher" FontSize="22" FontWeight="Bold" Foreground="White"/>
                                    <TextBlock Text="Version 1.0.0 â€¢ Par Felix-Antoine" Foreground="#888" FontSize="11"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <TextBlock Text="Raccourcis clavier" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <Border Style="{StaticResource SettingsCard}">
                                <StackPanel>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="100"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text="EntrÃ©e" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Lancer l'Ã©lÃ©ment" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="100"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text="Tab" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Panneau d'actions" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="100"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text="Ctrl+P" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Ã‰pingler / DÃ©sÃ©pingler" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="100"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text="Ctrl+EntrÃ©e" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="ExÃ©cuter en admin" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="100"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text="Ctrl+O" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Ouvrir emplacement" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="100"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text="Ctrl+Maj+C" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Copier le chemin" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                    <Grid Margin="0,2"><Grid.ColumnDefinitions><ColumnDefinition Width="100"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <TextBlock Text="Ã‰chap" Foreground="#0078D4" FontFamily="Consolas" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="Fermer" Foreground="#888" FontSize="11"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                            
                            <TextBlock Text="Astuces" Style="{StaticResource SectionLabel}"/>
                            <Border Background="#2D3D2D" CornerRadius="6" Padding="12" BorderBrush="#4CAF50" BorderThickness="1">
                                <StackPanel>
                                    <TextBlock Text="â€¢ â­ Ã‰pinglez vos apps favorites (Tab â†’ Ã‰pingler)" Foreground="#AAA" FontSize="11" Margin="0,2"/>
                                    <TextBlock Text="â€¢ Les Ã©pinglÃ©s apparaissent quand la barre est vide" Foreground="#AAA" FontSize="11" Margin="0,2"/>
                                    <TextBlock Text="â€¢ Tapez ':help' pour voir toutes les commandes" Foreground="#AAA" FontSize="11" Margin="0,2"/>
                                    <TextBlock Text="â€¢ Calculatrice intÃ©grÃ©e: tapez '2+2*3'" Foreground="#AAA" FontSize="11" Margin="0,2"/>
                                    <TextBlock Text="â€¢ Clic droit pour actions contextuelles" Foreground="#AAA" FontSize="11" Margin="0,2"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                        
                        <!-- Colonne droite: Stats et donnÃ©es -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Statistiques" Style="{StaticResource SectionLabel}" Margin="0,0,0,8"/>
                            <Border Style="{StaticResource SettingsCard}">
                                <TextBlock x:Name="StatsText" Text="Chargement..." Foreground="#888" FontSize="11"/>
                            </Border>
                            
                            <TextBlock Text="DonnÃ©es" Style="{StaticResource SectionLabel}"/>
                            <Border Style="{StaticResource SettingsCard}">
                                <StackPanel>
                                    <TextBlock x:Name="DataPathText" Text="" Foreground="#888" TextWrapping="Wrap" FontFamily="Consolas" FontSize="10"/>
                                    <Button Content="ðŸ“‚ Ouvrir le dossier" Click="OpenDataFolder_Click" Style="{StaticResource ActionButton}" Margin="0,10,0,0" HorizontalAlignment="Left"/>
                                </StackPanel>
                            </Border>
                            
                            <TextBlock Text="Zone dangereuse" Style="{StaticResource SectionLabel}"/>
                            <Border Background="#3D2020" CornerRadius="6" Padding="12" BorderBrush="#E81123" BorderThickness="1">
                                <StackPanel>
                                    <TextBlock Text="RÃ©initialiser tous les paramÃ¨tres aux valeurs par dÃ©faut." Foreground="#888" TextWrapping="Wrap" FontSize="11" Margin="0,0,0,10"/>
                                    <Button Content="ðŸ—‘ï¸ RÃ©initialiser" Click="ResetSettings_Click" Background="#E81123" Foreground="White" Padding="10,6" BorderThickness="0" HorizontalAlignment="Left" Cursor="Hand"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        
        <!-- Boutons d'action -->
        <Border Grid.Row="2" BorderBrush="#3E3E3E" BorderThickness="0,1,0,0" Padding="0,15,0,0" Margin="0,15,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Annuler" Click="CancelButton_Click" Style="{StaticResource ActionButton}" Margin="0,0,10,0"/>
                <Button Content="ðŸ’¾ Sauvegarder" Click="SaveButton_Click" Style="{StaticResource PrimaryButton}"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
